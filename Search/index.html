<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Explore places around the world via Flickr </title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.28/dijit/themes/tundra/tundra.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.28/esri/css/esri.css">
    <link rel="stylesheet" href="css/np_style.css">
    <script>
        // host path regular expression
        var pathRegex = new RegExp(/\/[^\/]+$/);
        var locationPath = location.pathname.replace(pathRegex, '');
        // Dojo Config
        var dojoConfig = {
            parseOnLoad: true,
            packages: [
        {
            name: "lib",
            location: locationPath + '/js/lib/'
        },
        {
            name: "tpl",
            location: locationPath + '/tpl/'
        }]
        };
    </script>
    <script src="https://js.arcgis.com/3.28/"></script>
    <script src="js/app/np_app.js"></script>
</head>
<body class="tundra">
    <div id="main-window" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design:'headline', gutters:false"
        style="width: 100%; height: 100%; margin: 0 auto;" class="shadow">
        <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'right', splitter:false"
            style="width: 450px; margin: 0px; padding: 20px 10px 10px 10px; background-color: #fff;">
            <div class="info shadow" id="title">
                Explore places around the world via Flickr
            </div>
            <div id="photo-list">
                <div data-bind="foreach: pics">
                    <a data-bind="attr: { href: 'http://www.flickr.com/photos/' + owner + '/' + id, title: title }"
                        target="blank">
                        <img data-bind="attr: { src: 'http://farm' + farm  + '.static.flickr.com/' + server + '/' + id + '_' + secret + '_z.jpg', title: title, alt: title }"
                            width="435" />
                    </a>
                </div>
            </div>
            <div class="info shadow round" data-bind="click: show_more, visible: showMoreVisible"
                id="load-more">
                Load More</div>
            <div class="info" id="app-info-container">
                <div id="app-info">
                    <div id="photo-list-info" data-bind="html: photoList">
                    </div>
                    <br>
                    This app uses the Flickr API to find photos. Photo searches are limited to 30 results
                    to comply with <a href="http://www.flickr.com/services/api/tos/">Flickr's terms of service</a>.
                    <br />
                    <br />
                    Maps are from <a href="http://arcgis.com/">arcgis.com </a>and are displayed with
                    <a href="http://esriurl.com/js">Esri's ArcGIS API for JavaScript </a>.
                    <br>
                    <br>
                </div>
            </div>
        </div>
        <div id="legend">
        </div>
        <div id="map" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'">
            <div id="search"></div>
            <div id="basemaps-container" class="shadow round over-map" data-bind="click: basemapClick">
                <div class="basemap" id="streets">
                    Streets</div>
                <div class="basemap" id="hybrid">
                    Satellite</div>
                <div class="basemap" id="topo">
                    Topo</div>
            </div>
            <div id="ds">
                <!-- drop shadow divs -->
                <div id="ds-r">
                    <div class="ds v1 o1">
                    </div>
                    <div class="ds v2 o2">
                    </div>
                    <div class="ds v3 o3">
                    </div>
                    <div class="ds v4 o4">
                    </div>
                    <div class="ds v5 o5">
                    </div>
                </div>
            </div>
            <!-- end drop shadow divs -->
        </div>
    </div>
</body>
</html>
